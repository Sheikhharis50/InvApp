{% load static %}

<div class="card card-dark">
    <div class="card-header">
        <div class="row">
            <div class="col-md-6">
                <h3 class="card-title">
                    {{status}}
                </h3>
            </div>
        </div>
    </div>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="card-body">
            <div class="row">
                <div class="col-xs-9 col-sm-6 col-md-6 col-lg-6" style="padding: 1.5%;">
                    <div class="row form-group" style="margin-bottom: 0%;">
                        <label for="id_name">Item Name: <span class="imp">*</span></label>
                        <div class="input-container">
                            <i class="fa fa-cart-plus iicon"></i>
                            {{form.name}}
                        </div>
                    </div>
                    <div class="row form-group" style="padding-bottom: 0%;">
                        <label for="id_date_added">
                            Expiry Date: <span class="imp">*</span>
                        </label>
                        <div class="input-container">
                            <i class="fa fa-calendar-check iicon"></i>
                            {{form.expiry_date}}
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <label for="id_name">Item Image:</label>
                    <div class="img_con">
                        <img id="temp_img" {% if obj.image %} src="{{ obj.image.url }}" {% else %}
                            src="{% static 'img/upload.png' %}" {%endif%} alt="" style="width: 80%;" />
                        <input style="display: none;" type="file" name="image" id="up_item_img" alt="Item Image"
                            accept="image/*" width="304" height="236">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <hr><br>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-9 col-sm-6 col-md-6 col-lg-6" style="padding: 1.5%;">
                    <div class="row form-group" style="margin-bottom: 0%;">
                        <label for="id_name">Barcode Number:
                            &nbsp;&nbsp;&nbsp;
                            <i class="fas fa-info-circle" id="info1"
                                aria-label="Barcode is 'Autogenerated' and not editable!"></i>
                        </label>
                        <div class="input-container">
                            <i class="fa fa-barcode iicon"></i>
                            <input type="text" name="barcode" value="{{ obj.barcode }}" class="input-field"
                                readonly="readonly" required="" id="id_barcode">
                            <a download type="button" class="btn bg-gradient-dark btn-md iicon"
                                {% if status_of_barcode == 0 %} href="{{obj.barcodeImage.url}}" {% else %} href=""
                                {% endif %} style="color: white; max-height:52px;padding:10px;margin-right:1%;"
                                title="Add another Warehouse">
                                <i class="fa fa-download"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <label for="id_name">Barcode Image:</label>
                    <div class="img_con">
                        <img src="{{obj.barcodeImage.url}}" class="cropped" alt="" style="width: 100%;max-width: 100% !important;" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <hr><br>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6" style="padding-left: 1%;">
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm-6">
                                    <label for="id_location">Unit:<span class="imp">*</span></label>
                                </div>
                                <div class="col-sm-6">
                                    <a type="button" data-toggle="modal" data-target="#unit_modal" style="float: right;">
                                        <i class="fa fa-plus addd" aria-hidden="true"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    {{form.unit}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm-6">
                                    <label for="id_location">Stock:</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    {{form.stock}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm">
                                    <label for="">Reorder Point:</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm">
                                    {{form.reorder}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm">
                                    <label for="">Status:</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm">
                                    {{form.status}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm">
                                    <label for="">Returnable Item</label>
                                </div>
                                <div class="col-sm">
                                    {{form.returnable}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm">
                                    <label for="">is_available</label>
                                </div>
                                <div class="col-sm">
                                    {{form.is_available}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm-6">
                                    <label for="id_location">Category:</label>
                                </div>
                                <div class="col-sm-6">
                                    <a type="button" data-toggle="modal" data-target="#categoy_modal"
                                        style="float: right;">
                                        <i class="fa fa-plus addd" aria-hidden="true"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    {{form.category}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm-6">
                                    <label for="">SubCategory:</label>
                                </div>
                                <div class="col-sm-6">
                                    <a type="button" data-toggle="modal" data-target="#subcategory_modal"
                                        style="float: right;">
                                        <i class="fa fa-plus addd" aria-hidden="true"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    {{form.subcategory}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm-6">
                                    <label for="id_location">Warehouse:</label>
                                </div>
                                <div class="col-sm-6">
                                    <a type="button" data-toggle="modal" data-target="#warehouse_modal"
                                        style="float: right;">
                                        <i class="fa fa-plus addd" aria-hidden="true"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    {{form.warehouse}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm-6">
                                    <label for="id_location">Department:</label>
                                </div>
                                <div class="col-sm-6">
                                    <a type="button" data-toggle="modal" data-target="#department_modal"
                                        style="float: right;">
                                        <i class="fa fa-plus addd" aria-hidden="true"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    {{form.department}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm-6">
                                    <label for="id_location">Brand:</label>
                                </div>
                                <div class="col-sm-6">
                                    <a type="button" data-toggle="modal" data-target="#brand_modal"
                                        style="float: right;">
                                        <i class="fa fa-plus addd" aria-hidden="true"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    {{form.brand}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-sm">
                            <div class="row">
                                <div class="col-sm-6">
                                    <label for="id_location">Manufacturer:</label>
                                </div>
                                <div class="col-sm-6">
                                    <a type="button" data-toggle="modal" data-target="#manufacturer_modal"
                                        style="float: right;">
                                        <i class="fa fa-plus addd" aria-hidden="true"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    {{form.manufacturer}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-9">
                    <hr><br>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6" style="padding-left: 1%;">
                    <div id="accordion" class="myaccordion1">
                        <div class="card card-dark">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne"
                                style="background-color: #343a40; color: white;">
                                <div class="card-header">
                                    <h4 class="card-title">
                                        Sales Information
                                    </h4>
                                    <i class="fa fa-minus" id='collps_icon1' style="float: right;padding-top:1%"></i>
                                </div>
                            </a>
                            <div id="collapseOne" class="panel-collapse in collapse show">
                                <div class="card-body">
                                    <div class="row form-group">
                                        <div class="col-sm">
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <label for="id_name">Price: <span class="imp">*</span></label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    {{form.price}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-sm">
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <label for="id_name">Account: <span class="imp"></span></label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <select name="sale_account" class="form-control select2"
                                                        data-placeholder="Select a Sale Account" style="width: 100%;">
                                                        <optgroup label="Income">
                                                            <!-- <option selected="selected">Sales</option> -->
                                                            <option>Discount</option>
                                                            <option>Sales</option>
                                                            <option>General Income</option>
                                                            <option>Interest Income</option>
                                                            <option>Late Fee Income</option>
                                                            <option>Other Charges</option>
                                                        </optgroup>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-sm">
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <label for="id_name">Description: <span class="imp"></span></label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <textarea name="sale_desciption" style="width: 100%;"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-sm">
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <label for="id_name">Tax:
                                                    </label>
                                                </div>
                                                <div class="col-sm-6">
                                                    <a type="button" data-toggle="modal" data-target="#tax_modal"
                                                        style="float: right;">
                                                        <i class="fa fa-plus addd" aria-hidden="true"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    {{form.tax}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6" style="padding-left: 0.5%;">
                    <div id="accordion" class="myaccordion2">
                        <div class="card card-dark">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo"
                                style="background-color: #343a40; color: white;">
                                <div class="card-header">
                                    <h4 class="card-title">
                                        Purchase Information
                                    </h4>
                                    <i class="fa fa-minus" id='collps_icon2' style="float: right;padding-top:1%"></i>
                                </div>
                            </a>
                            <div id="collapseTwo" class="panel-collapse in collapse show">
                                <div class="card-body">
                                    <div class="row form-group">
                                        <div class="col-sm">
                                            <div class="row">
                                                <div class="col-sm">
                                                    <label for="id_name">Cost: <span class="imp">*</span></label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm">
                                                    {{form.cost}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-sm">
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <label for="id_name">Account: <span class="imp"></span></label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <select name="purchase_account" class="form-control select2"
                                                        data-placeholder="Select a Purchase Account" style="width: 100%;">
                                                        <optgroup label="Expense">
                                                            <option>Cost of Goods Sold</option>
                                                            <option>Advetising And Marketing</option>
                                                            <option>Automobile Expenses</option>
                                                            <option>Bad Debt</option>
                                                            <option>Bank Fees and Charges</option>
                                                            <option>Consultant Expense</option>
                                                            <option>Credit Card Charges</option>
                                                            <option>Depreciation Expense</option>
                                                            <option>IT and Internet Expenses</option>
                                                        </optgroup>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-sm">
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <label for="id_name">Description: <span class="imp"></span></label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <textarea name="purchase_desciption" style="width: 100%;"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12" style="padding:1%;">
                    <div class="form-group">
                        <label for="id_location">Description:</label>
                        {{form.description}}
                    </div>
                </div>
            </div>
        </div>
        <div class="row" style="padding:1%;">
            <div class="col-sm-6">
                <button type="submit" class="save btn btn-primary">SAVE</button>
            </div>
            <div class="col-sm-6">
                <a href="{% url 'item_list' %}" class="save btn btn-primary">
                    CANCEL
                </a>
            </div>
        </div>
        <br>
    </form>
</div>
<script type="text/javascript">
    window.onbeforeunload = function () {
        return true;
    };
</script>

<!-- INCLUDING MODALS -->

{% include 'pages/modals/category_modal.html' %}
{% include 'pages/modals/subcategory_modal.html' %}
{% include 'pages/modals/warehouse_modal.html' %}
{% include 'pages/modals/department_modal.html' %}
{% include 'pages/modals/manufacturer_modal.html' %}
{% include 'pages/modals/brand_modal.html'%}
{% include 'pages/modals/unit_modal.html' %}
{% include 'pages/modals/tax_modal.html' %}

<!-- ./INCLUDING MODALS -->
